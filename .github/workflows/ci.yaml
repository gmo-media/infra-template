# Plan and apply on pull requests
name: CI

on:
  push:
    branches:
      - main
  pull_request:

permissions:
  contents: read
  actions: read
  pull-requests: write
  id-token: write

jobs:
  ci:
    uses: gmo-media/tofu-actions/.github/workflows/quickstart-ci.yaml@v4
    with:
      auth-mode: aws-oidc
      aws-apply-role: arn:aws:iam::<aws-account-id>:role/tofu-apply
      aws-plan-role: arn:aws:iam::<aws-account-id>:role/tofu-plan
